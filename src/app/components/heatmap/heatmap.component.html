@if (tableData.length) {
  <div class="heatmap-component-container">
    <table mat-table [dataSource]="tableData" class="mat-elevation-z8">

      <ng-container matColumnDef="hour">
        <th mat-header-cell *matHeaderCellDef style="font-weight: bold; color: white" [style.backgroundColor]="'#000'">Hour of the Day</th>
        <td mat-cell *matCellDef="let element" style="font-weight: bold; color: white" [style.backgroundColor]="'#000'">{{ element.hourOfTheDay }}</td>
      </ng-container>

      <ng-container matColumnDef="monday">
        <th mat-header-cell *matHeaderCellDef> Monday</th>
        @if (getMetricType() === 'load'){
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.mondayAverage)"><span class="value-container">{{ element.mondayAverage }}<span style="font-weight: normal; font-style: italic;"> Mb/s</span></span></td>
        } @else if (getMetricType() === 'packetLoss'){
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.mondayAverage)"><span class="value-container">{{ element.mondayAverage }}<span style="font-weight: normal; font-style: italic;"> %</span></span></td>
        } @else {
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.mondayAverage)"><span class="value-container">{{ element.mondayAverage }}<span style="font-weight: normal; font-style: italic;"> ms</span></span></td>
        }
      </ng-container>

      <ng-container matColumnDef="tuesday">
        <th mat-header-cell *matHeaderCellDef> Tuesday</th>
        @if (getMetricType() === 'load'){
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.tuesdayAverage)"><span class="value-container">{{ element.tuesdayAverage }}<span style="font-weight: normal; font-style: italic;"> Mb/s</span></span></td>
        } @else if (getMetricType() === 'packetLoss'){
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.tuesdayAverage)"><span class="value-container">{{ element.tuesdayAverage }}<span style="font-weight: normal; font-style: italic;"> %</span></span></td>
        } @else {
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.tuesdayAverage)"><span class="value-container">{{ element.tuesdayAverage }}<span style="font-weight: normal; font-style: italic;"> ms</span></span></td>
        }
      </ng-container>

      <ng-container matColumnDef="wednesday">
        <th mat-header-cell *matHeaderCellDef> Wednesday</th>
        @if (getMetricType() === 'load'){
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.wednesdayAverage)"><span class="value-container">{{ element.wednesdayAverage }}<span style="font-weight: normal; font-style: italic;"> Mb/s</span></span></td>
        } @else if (getMetricType() === 'packetLoss'){
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.wednesdayAverage)"><span class="value-container">{{ element.wednesdayAverage }}<span style="font-weight: normal; font-style: italic;"> %</span></span></td>
        } @else {
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.wednesdayAverage)"><span class="value-container">{{ element.wednesdayAverage }}<span style="font-weight: normal; font-style: italic;"> ms</span></span></td>
        }
      </ng-container>

      <ng-container matColumnDef="thursday">
        <th mat-header-cell *matHeaderCellDef> Thursday</th>
        @if (getMetricType() === 'load'){
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.thursdayAverage)"><span class="value-container">{{ element.thursdayAverage }}<span style="font-weight: normal; font-style: italic;"> Mb/s</span></span></td>
        } @else if (getMetricType() === 'packetLoss'){
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.thursdayAverage)"><span class="value-container">{{ element.thursdayAverage }}<span style="font-weight: normal; font-style: italic;"> %</span></span></td>
        } @else {
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.thursdayAverage)"><span class="value-container">{{ element.thursdayAverage }}<span style="font-weight: normal; font-style: italic;"> ms</span></span></td>
        }
      </ng-container>

      <ng-container matColumnDef="friday">
        <th mat-header-cell *matHeaderCellDef> Friday</th>
        @if (getMetricType() === 'load'){
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.fridayAverage)"><span class="value-container">{{ element.fridayAverage }}<span style="font-weight: normal; font-style: italic;"> Mb/s</span></span></td>
        } @else if (getMetricType() === 'packetLoss'){
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.fridayAverage)"><span class="value-container">{{ element.fridayAverage }}<span style="font-weight: normal; font-style: italic;"> %</span></span></td>
        } @else {
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.fridayAverage)"><span class="value-container">{{ element.fridayAverage }}<span style="font-weight: normal; font-style: italic;"> ms</span></span></td>
        }
      </ng-container>

      <ng-container matColumnDef="saturday">
        <th mat-header-cell *matHeaderCellDef> Saturday</th>
        @if (getMetricType() === 'load'){
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.saturdayAverage)"><span class="value-container">{{ element.saturdayAverage }}<span style="font-weight: normal; font-style: italic;"> Mb/s</span></span></td>
        } @else if (getMetricType() === 'packetLoss'){
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.saturdayAverage)"><span class="value-container">{{ element.saturdayAverage }}<span style="font-weight: normal; font-style: italic;"> %</span></span></td>
        } @else {
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.saturdayAverage)"><span class="value-container">{{ element.saturdayAverage }}<span style="font-weight: normal; font-style: italic;"> ms</span></span></td>
        }
      </ng-container>

      <ng-container matColumnDef="sunday">
        <th mat-header-cell *matHeaderCellDef> Sunday</th>
        @if (getMetricType() === 'load'){
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.sundayAverage)"><span class="value-container">{{ element.sundayAverage }}<span style="font-weight: normal; font-style: italic;"> Mb/s</span></span></td>
        } @else if (getMetricType() === 'packetLoss'){
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.sundayAverage)"><span class="value-container">{{ element.sundayAverage }}<span style="font-weight: normal; font-style: italic;"> %</span></span></td>
        } @else {
          <td mat-cell *matCellDef="let element" class="cell" [style.backgroundColor]="getHeatmapColor(element.sundayAverage)"><span class="value-container">{{ element.sundayAverage }}<span style="font-weight: normal; font-style: italic;"> ms</span></span></td>
        }
      </ng-container>

      <tr style="font-weight: bold; color: white" mat-header-row *matHeaderRowDef="displayedColumns;" [style.backgroundColor]="'#000'"></tr>
      <tr style="height: 26px" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
} @else {
  <div class="container">
    <div class="pick-a-metric-message-container">
      <mat-icon>keyboard_arrow_up</mat-icon>
      <h1> Select a metric</h1>
    </div>
  </div>
}
